(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0988cc19"],{2493:function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a");var r=o("7a23"),n=Object(r["ib"])("data-v-8c186bd4");Object(r["J"])("data-v-8c186bd4");var i=Object(r["p"])("h5",{class:"mt-1 mb-2",style:{"font-weight":"600"}}," 👨‍👩‍👧 당신의 이야기를 들려주세요 ! ",-1),l=Object(r["p"])("span",{style:{"font-size":"1.25rem","font-weight":"600"}}," 📷 사진을 업로드 해주세요 ",-1),a=Object(r["p"])("span",null," (최대 3장, 최소 1장)",-1),c={class:"mb-3",id:"imgFileUploadInsertWrapper"},s={class:"thumbnail-wrapper"},u=Object(r["p"])("div",{style:{float:"left"}},[Object(r["p"])("label",{for:"inputFileUploadInsert",style:{cursor:"pointer"}},[Object(r["p"])("div",{style:{background:"linear-gradient( to top, #f3ede7, #f5e9e4 )","text-align":"center",display:"table-cell","vertical-align":"middle","box-shadow":"0 2px 12px 0 rgb(0 0 0 / 10%)",width:"200px",height:"200px","border-radius":"20px"}},[Object(r["p"])("i",{class:"el-icon-plus ",style:{"margin-left":"10px","font-size":"40px",color:"#D8D8D8"}})])])],-1),d=Object(r["p"])("span",{style:{"font-size":"1.25rem","font-weight":"600"}}," 📝 내용을 작성해주세요 ",-1),b=Object(r["o"])("작성"),p=Object(r["o"])("초기화");Object(r["H"])();var f=n((function(e,t,o,f,g,m){var j=Object(r["P"])("el-divider"),O=Object(r["P"])("el-input"),h=Object(r["P"])("el-form-item"),F=Object(r["P"])("el-col"),y=Object(r["P"])("el-option"),w=Object(r["P"])("el-select"),v=Object(r["P"])("el-row"),x=Object(r["P"])("el-image"),I=Object(r["P"])("el-button"),k=Object(r["P"])("el-form");return Object(r["G"])(),Object(r["k"])("div",null,[Object(r["p"])(v,{class:"board"},{default:n((function(){return[Object(r["p"])("div",null,[Object(r["p"])(k,{style:{margin:"5%"},"label-position":"left",model:g.boardForm,rules:g.rules,ref:"boardForm","label-width":"120px"},{default:n((function(){return[i,Object(r["p"])(j),Object(r["p"])(v,{class:"mb-4"},{default:n((function(){return[Object(r["p"])(F,{span:18},{default:n((function(){return[Object(r["p"])(h,{label:"제목",prop:"title",style:{"margin-right":"3%"}},{default:n((function(){return[Object(r["p"])(O,{modelValue:g.boardForm.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.boardForm.title=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["p"])(F,{span:6},{default:n((function(){return[Object(r["p"])(h,{label:"카테고리",prop:"category"},{default:n((function(){return[Object(r["p"])(w,{modelValue:g.boardForm.category,"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.boardForm.category=e}),placeholder:"입양일기"},{default:n((function(){return[Object(r["p"])(y,{label:"입양일기",value:"입양일기"}),Object(r["p"])(y,{label:"임보일기",value:"임보일기"}),Object(r["p"])(y,{label:"자유게시판",value:"자유게시판"}),Object(r["p"])(y,{label:"나눔",value:"나눔"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),l,a,Object(r["p"])(j),Object(r["p"])(v,{class:"mt-4 mb-3"},{default:n((function(){return[Object(r["p"])("div",c,[Object(r["p"])("div",s,[(Object(r["G"])(!0),Object(r["k"])(r["b"],null,Object(r["N"])(f.state.fileList,(function(t,o){return Object(r["G"])(),Object(r["k"])(x,{style:{width:"200px",height:"200px","box-shadow":"0 2px 12px 0 rgb(0 0 0 / 10%)",cursor:"pointer",position:"relative","margin-right":"20px","border-radius":"20px",float:"left"},src:t,key:o,onClick:function(e){return f.deleteFile(o)},fit:e.fit},null,8,["src","onClick","fit"])})),128)),Object(r["p"])("input",{onChange:t[3]||(t[3]=function(){return f.changeFile&&f.changeFile.apply(f,arguments)}),type:"file",id:"inputFileUploadInsert",style:{display:"none"},multiple:""},null,32),u])])]})),_:1}),d,Object(r["p"])(j),Object(r["p"])(v,{class:"mb-3"},{default:n((function(){return[Object(r["p"])(h,{label:"내용",prop:"description"},{default:n((function(){return[Object(r["p"])(O,{class:"textarea",type:"textarea",modelValue:g.boardForm.description,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.boardForm.description=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["p"])(v,{class:"mt-5",style:{display:"flex","justify-content":"center"}},{default:n((function(){return[Object(r["p"])(I,{type:"primary",onClick:t[5]||(t[5]=function(e){return m.submitForm("boardForm")})},{default:n((function(){return[b]})),_:1}),Object(r["p"])(I,{onClick:t[6]||(t[6]=function(e){return m.resetForm("boardForm")})},{default:n((function(){return[p]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])]})),_:1})])})),g=(o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d"),o("a434"),o("5502")),m=o("6c02"),j=o("98a0"),O=(o("c4bb"),{name:"community-board-register",data:function(){return{boardForm:{userId:this.state.userId.userId,category:"",title:"",description:""},rules:{category:[{required:!0,message:"게시글 카테고리를 선택해주세요",trigger:"change"}],title:[{required:!0,message:"제목을 입력해주세요.",trigger:"blur"},{min:3,max:25,message:"3글자 이상, 25글자 이하로 입력해주세요.",trigger:"change"}],description:[{required:!0,message:"내용을 입력해주세요.",trigger:"blur"},{min:10,max:1e3,message:"10글자 이상, 1000글자 이하로 입력해주세요.",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;if(this.state.sendFile.length>3)Object(j["a"])("사진은 3장까지만 업로드 가능해요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"});else if(this.state.sendFile.length>=1){var o=new FormData;o.append("userId",this.state.userId.userId),o.append("title",this.boardForm.title),o.append("category",this.boardForm.category),o.append("description",this.boardForm.description);for(var r=this.state.sendFile.length,n=0;n<r;n++)o.append("fileList",this.state.sendFile[n]);console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.boardForm),t.registerData(o)}))}else Object(j["a"])("사진은 한 장 이상 업로드해주세요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)}},setup:function(){var e=new g["b"],t=new m["c"],o=Object(r["K"])({fileList:[],sendFile:[],userId:Object(r["i"])((function(){return e.getters["root/getLoginUserInfo"]}))}),n=function(o){e.dispatch("root/requestRegisterCommunity",o).then((function(e){Object(j["a"])("게시글이 등록되었어요 📜🐾",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#7eaa72",position:"bottom-left",transition:"bounce",type:"success"}),console.log("등록 성공"),t.push({name:"Community"})})).catch((function(e){Object(j["a"])("게시글 등록에 실패했어요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"}),console.log(e)}))},i=function(e){if(e.target.files&&e.target.files[0].size>3145728)Object(j["a"])("파일 사이즈가 3MB를 넘어요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"});else if(e.target.files&&e.target.files.length>0)for(var t=0;t<e.target.files.length;t++){var r=e.target.files[t];o.fileList.push(URL.createObjectURL(r)),o.sendFile.push(r)}},l=function(e){console.log(o.sendFile),o.fileList.splice(e,1),o.sendFile.splice(e,1),console.log(o.sendFile)};return Object(r["D"])((function(){e.commit("root/setBreadcrumbInfo",{isHome:!1,title:"독립신문",subTitle:"글 작성하기"})})),{state:o,registerData:n,changeFile:i,deleteFile:l}}});o("77a9");O.render=f,O.__scopeId="data-v-8c186bd4";t["default"]=O},"68e7":function(e,t,o){},"77a9":function(e,t,o){"use strict";o("68e7")}}]);
//# sourceMappingURL=chunk-0988cc19.21871366.js.map