(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8f326b0"],{"12e5":function(e,t,i){"use strict";i.r(t);i("a4d3"),i("e01a");var o=i("7a23"),r=Object(o["ib"])("data-v-10c1d039");Object(o["J"])("data-v-10c1d039");var n=Object(o["p"])("h5",{class:"mt-1 mb-2",style:{"font-weight":"600"}}," 👨‍👩‍👧 당신의 이야기를 들려주세요 ! ",-1),l=Object(o["p"])("span",{style:{"font-size":"1.25rem","font-weight":"600"}}," 📷 사진을 업로드 해주세요 ",-1),a=Object(o["p"])("span",null," (최대 3장 / 최소 1장)",-1),s={class:"mb-3",id:"imgFileUploadInsertWrapper"},c={class:"thumbnail-wrapper"},u=Object(o["p"])("div",{style:{float:"left"}},[Object(o["p"])("label",{for:"inputFileUploadInsert",style:{cursor:"pointer"}},[Object(o["p"])("div",{style:{background:"linear-gradient( to top, #f3ede7, #f5e9e4 )","text-align":"center",display:"table-cell","vertical-align":"middle","box-shadow":"0 2px 12px 0 rgb(0 0 0 / 10%)",width:"200px",height:"200px","border-radius":"20px"}},[Object(o["p"])("i",{class:"el-icon-plus ",style:{"margin-left":"10px","font-size":"40px",color:"#D8D8D8"}})])])],-1),d=Object(o["p"])("span",{style:{"font-size":"1.25rem","font-weight":"600"}}," 📝 내용을 작성해주세요 ",-1),b=Object(o["o"])("수정"),p=Object(o["o"])("초기화");Object(o["H"])();var m=r((function(e,t,i,m,f,g){var h=Object(o["P"])("el-divider"),O=Object(o["P"])("el-input"),j=Object(o["P"])("el-form-item"),y=Object(o["P"])("el-col"),w=Object(o["P"])("el-option"),F=Object(o["P"])("el-select"),v=Object(o["P"])("el-row"),x=Object(o["P"])("el-image"),I=Object(o["P"])("el-button"),k=Object(o["P"])("el-form");return Object(o["G"])(),Object(o["k"])("div",null,[Object(o["p"])(v,{class:"board"},{default:r((function(){return[Object(o["p"])("div",null,[Object(o["p"])(k,{style:{margin:"5%"},"label-position":"left",model:f.boardForm,rules:f.rules,ref:"boardForm","label-width":"120px"},{default:r((function(){return[n,Object(o["p"])(h),Object(o["p"])(v,{class:"mb-4"},{default:r((function(){return[Object(o["p"])(y,{span:18},{default:r((function(){return[Object(o["p"])(j,{label:"제목",prop:"title",style:{"margin-right":"3%"}},{default:r((function(){return[Object(o["p"])(O,{modelValue:f.boardForm.title,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.boardForm.title=e})},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["p"])(y,{span:6},{default:r((function(){return[Object(o["p"])(j,{label:"카테고리",prop:"category"},{default:r((function(){return[Object(o["p"])(F,{modelValue:f.boardForm.category,"onUpdate:modelValue":t[2]||(t[2]=function(e){return f.boardForm.category=e}),placeholder:"입양일기"},{default:r((function(){return[Object(o["p"])(w,{label:"입양일기",value:"입양일기"}),Object(o["p"])(w,{label:"임보일기",value:"임보일기"}),Object(o["p"])(w,{label:"자유게시판",value:"자유게시판"}),Object(o["p"])(w,{label:"나눔",value:"나눔"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),l,a,Object(o["p"])(h),Object(o["p"])(v,{class:"mt-4  mb-3"},{default:r((function(){return[Object(o["p"])("div",s,[Object(o["p"])("div",c,[(Object(o["G"])(!0),Object(o["k"])(o["b"],null,Object(o["N"])(m.state.community.fileList,(function(t,i){return Object(o["G"])(),Object(o["k"])(x,{style:{width:"200px",height:"200px","box-shadow":"0 2px 12px 0 rgb(0 0 0 / 10%)",cursor:"pointer",position:"relative","margin-right":"20px","border-radius":"20px",float:"left"},src:t,key:i,onClick:function(e){return m.deleteOriginFile(i)},fit:e.fit,hover:m.state.hover},null,8,["src","onClick","fit","hover"])})),128)),(Object(o["G"])(!0),Object(o["k"])(o["b"],null,Object(o["N"])(m.state.thumbnailList,(function(t,i){return Object(o["G"])(),Object(o["k"])(x,{style:{width:"200px",height:"200px","box-shadow":"0 2px 12px 0 rgb(0 0 0 / 10%)",cursor:"pointer",position:"relative","margin-right":"20px","border-radius":"20px",float:"left"},src:t,key:i,onClick:function(e){return m.deleteNewFile(i)},fit:e.fit,hover:m.state.hover},null,8,["src","onClick","fit","hover"])})),128)),Object(o["p"])("input",{onChange:t[3]||(t[3]=function(){return m.changeFile&&m.changeFile.apply(m,arguments)}),type:"file",id:"inputFileUploadInsert",style:{display:"none"},multiple:""},null,32),u])])]})),_:1}),d,Object(o["p"])(h),Object(o["p"])(v,{class:"mb-3"},{default:r((function(){return[Object(o["p"])(j,{label:"내용",prop:"description"},{default:r((function(){return[Object(o["p"])(O,{type:"textarea",modelValue:f.boardForm.description,"onUpdate:modelValue":t[4]||(t[4]=function(e){return f.boardForm.description=e}),style:{resize:"none","white-space":"pre"}},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(o["p"])(v,{class:"mt-5",style:{display:"flex","justify-content":"center"}},{default:r((function(){return[Object(o["p"])(I,{type:"primary",onClick:t[5]||(t[5]=function(e){return g.submitForm("boardForm")})},{default:r((function(){return[b]})),_:1}),Object(o["p"])(I,{onClick:t[6]||(t[6]=function(e){return g.resetForm("boardForm")})},{default:r((function(){return[p]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])]})),_:1})])})),f=(i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("a434"),i("5502")),g=i("6c02"),h=i("98a0"),O=(i("c4bb"),{name:"community-board-update",data:function(){return{boardForm:{userId:this.state.userId.userId,communityId:this.state.community.communityId,category:this.state.community.category,title:this.state.community.title,description:this.state.community.description},rules:{category:[{required:!0,message:"게시글 카테고리를 선택해주세요",trigger:"change"}],title:[{required:!0,message:"제목을 입력해주세요.",trigger:"blur"},{min:3,max:25,message:"3글자 이상, 25글자 이하로 입력해주세요.",trigger:"change"}],description:[{required:!0,message:"내용을 입력해주세요.",trigger:"blur"},{min:10,max:1e3,message:"10글자 이상, 1000글자 이하로 입력해주세요.",trigger:"change"}]}}},methods:{submitForm:function(e){var t=this;if(this.state.community.fileList.length+this.state.newAddFile.length>5)Object(h["a"])("사진은 3장까지만 업로드 가능해요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"});else if(this.state.community.fileList.length+this.state.newAddFile.length>=1){var i={userId:this.state.userId.userId,communityId:this.boardForm.communityId,title:this.boardForm.title,category:this.boardForm.category,description:this.boardForm.description,fileList:this.boardForm.fileList};this.$refs[e].validate((function(e){e?(t.modifyData(i),console.log(t.boardForm)):Object(h["a"])("작성하지 않은 항목이 있어요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"})}))}else Object(h["a"])("사진은 한 장 이상 업로드해주세요 💬💦",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#c49d83",position:"bottom-left",transition:"bounce",type:"warning"})},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)}},setup:function(){var e=new f["b"],t=new g["c"],i=Object(o["K"])({userId:Object(o["i"])((function(){return e.getters["root/getLoginUserInfo"].userId})),community:Object(o["i"])((function(){return console.log(e.getters["root/getCommunityBoard"]),e.getters["root/getCommunityBoard"]})),deleteList:[],newAddFile:[],thumbnailList:[]}),r=function(i){var o=new FormData;o.append("userId",this.state.userId.userId),o.append("title",i.title),o.append("category",i.category),o.append("description",i.description);for(var r=this.state.deleteList.length,n=0;n<r;n++)o.append("delList",this.state.deleteList[n]);console.log("cnt");for(var l=0;l<this.state.newAddFile.length;l++)o.append("fileList",this.state.newAddFile[l]);console.log(o),e.dispatch("root/requestUpdateCommunity",{communityId:i.communityId,data:o}).then((function(e){Object(h["a"])("게시글이 수정되었어요 📜🐾",{hideProgressBar:"true",timeout:4500,showIcon:"true",toastBackgroundColor:"#7eaa72",position:"bottom-left",transition:"bounce",type:"success"}),console.log("수정 성공"),t.push({name:"Community"})}))},n=function(e){if(e.target.files&&e.target.files.length>0)for(var t=0;t<e.target.files.length;t++){var o=e.target.files[t];i.thumbnailList.push(URL.createObjectURL(o)),i.newAddFile.push(o)}},l=function(e){i.deleteList.push(i.community.fileList[e]),i.community.fileList.splice(e,1)},a=function(e){i.thumbnailList.splice(e,1),i.newAddFile.splice(e,1)};return Object(o["D"])((function(){e.commit("root/setBreadcrumbInfo",{isHome:!1,title:"독립신문",subTitle:"글 수정하기"})})),{state:i,modifyData:r,changeFile:n,deleteOriginFile:l,deleteNewFile:a}}});i("457e");O.render=m,O.__scopeId="data-v-10c1d039";t["default"]=O},"457e":function(e,t,i){"use strict";i("e52e")},e52e:function(e,t,i){}}]);
//# sourceMappingURL=chunk-d8f326b0.6915c4c1.js.map