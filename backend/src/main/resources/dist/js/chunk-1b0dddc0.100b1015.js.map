{"version":3,"sources":["webpack:///./src/views/community/components/community-mycommunity.vue","webpack:///./src/views/community/components/community-mycommunity.vue?c33b","webpack:///./src/views/community/components/community-mycommunity.vue?9c3e","webpack:///./src/assets/images/mbti_infj.png"],"names":["class","style","type","round","goRegister","state","boardList","length","description","item","index","key","src","profileImageUrl","name","userId","plain","icon","size","updateCommunity","id","deleteCommunity","indicator-position","fileList","img","category","color","effect","title","placeholder","comment","input","RegisterComment","reverseList","i","communityId","isDelete","DeleteComment","components","createToast","setup","store","router","divs","images","comments","getters","userProfile","isLoading","communities","init","loading","page","noMore","hideProgressBar","timeout","showIcon","toastBackgroundColor","position","transition","push","fetchCommunityList","dispatch","then","result","console","log","data","communityList","commentList","reverse","catch","err","scroll","value","scrollTop","clientHeight","scrollHeight","CommunityDetail","community","filePath","commit","go","currentRoute","undefined","splice","isHome","subTitle","render","__scopeId","module","exports"],"mappings":"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","file":"js/chunk-1b0dddc0.100b1015.js","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!-- <div class=\"chat-body\"\r\n        @scroll=\"scroll\"\r\n        v-loading=\"communities.loading\"\r\n        :ref=\"el => { if(el) divs = el}\"\r\n    > -->\r\n    <div class=\"button\" style=\"text-align:right; margin-top:2%;\">\r\n          <el-button\r\n            type=\"outline-primary\"\r\n            round\r\n            @click=\"goRegister\"\r\n            >글 작성하기</el-button\r\n          >\r\n      </div>\r\n      <el-row v-if=\"state.boardList.length == 0\">\r\n        <el-empty\r\n              style=\"margin-top:80px; margin-bottom:50px;\"\r\n              description=\"작성한 게시글이 없다개 😢\"\r\n          ></el-empty>\r\n      </el-row>\r\n      <el-row v-if=\"state.boardList.length != 0\">\r\n        <el-row class=\"board\" v-for=\"(item, index) in state.boardList\" :key=\"index\">\r\n          <div >\r\n            <div class=\"title\">\r\n              <div class=\"user\">\r\n                <img class=\"user-profile\" :src=\"item.profileImageUrl\" />\r\n                <span>{{ item.name }}</span>\r\n              </div>\r\n              <!-- 자신의 글만 수정, 삭제 가능 -->\r\n              <!-- <div class=\"button-group\" v-if=\"item.userId==state.userId\"> -->\r\n              <span class=\"button-group\" v-if=\"item.userId == state.userId\">\r\n                <el-button-group>\r\n                  <el-button\r\n                    type=\"info\"\r\n                    plain\r\n                    icon=\"el-icon-edit\"\r\n                    size=\"mini\"\r\n                    @click=\"updateCommunity(item.id)\"\r\n                  ></el-button>\r\n                  <el-button\r\n                    type=\"info\"\r\n                    plain\r\n                    icon=\"el-icon-delete\"\r\n                    size=\"mini\"\r\n                    @click=\"deleteCommunity(item.id)\"\r\n                  ></el-button>\r\n                </el-button-group>\r\n              </span>\r\n            </div>\r\n            <div class=\"body\">\r\n              <el-carousel\r\n                class=\"image-carousel\"\r\n                indicator-position=\"none\"\r\n                style=\"margin-top:3%; margin-bottom:3%;\"\r\n              >\r\n                <el-carousel-item v-for=\"(img, index) in item.fileList\" :key=\"index\">\r\n                  <img class=\"image fit-image\" :src=\"img\" />\r\n                </el-carousel-item>\r\n              </el-carousel>\r\n              <div class=\"tag\">\r\n                <el-tag\r\n                  v-if=\"item.category == '입양일기'\"\r\n                  color=\"#D7AFA4\"\r\n                  effect=\"dark\"\r\n                  style=\"border:none; border-radius: 30px; font-size:14px;\"\r\n                  >{{ item.category }}</el-tag\r\n                >\r\n                <el-tag\r\n                  v-if=\"item.category == '임보일기'\"\r\n                  color=\"#E9CDA4\"\r\n                  effect=\"dark\"\r\n                  style=\"border:none; border-radius: 30px; font-size:14px;\"\r\n                  >{{ item.category }}</el-tag\r\n                >\r\n                <el-tag\r\n                  v-if=\"item.category == '자유게시판'\"\r\n                  color=\"#87CEDC\"\r\n                  effect=\"dark\"\r\n                  style=\"border:none; border-radius: 30px; font-size:14px;\"\r\n                  >{{ item.category }}</el-tag\r\n                >\r\n                <el-tag\r\n                  v-if=\"item.category == '나눔'\"\r\n                  color=\"#B4D9A7\"\r\n                  effect=\"dark\"\r\n                  style=\"border:none; border-radius: 30px; font-size:14px;\"\r\n                  >{{ item.category }}</el-tag\r\n                >\r\n              </div>\r\n              <div class=\"content\">\r\n                <span style=\"font-weight: 600; font-size: 18px;\">\r\n                  <!-- <font-awesome-icon\r\n                  icon=\"heart\"\r\n                  aria-hidden=\"true\"\r\n                  style=\"color: rgb(237, 0, 109); font-size: 3vmin; cursor: pointer; margin-top: 10px;\"\r\n                  class=\"scale-up-5\"\r\n                >\r\n              </font-awesome-icon> -->\r\n                  {{ item.title }}</span\r\n                >\r\n                <div class=\"boardcontent\" style=\"margin-top:2%; white-space:pre-wrap;\">\r\n                {{ item.description }}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"comment\">\r\n              <img\r\n                class=\"icon\"\r\n                :src=\"require('@/assets/images/icon.png')\"\r\n                style=\"margin-left:2%;\"\r\n              />\r\n              <el-input\r\n                placeholder=\"댓글을 입력해주세요\"\r\n                v-model=\"comment.input\"\r\n                class=\"comment-input\"\r\n                @keyup.enter=\"RegisterComment(item.id)\"\r\n              >\r\n              </el-input>\r\n              <el-button\r\n                class=\"comment-button\"\r\n                icon=\"el-icon-s-promotion\"\r\n                @click=\"RegisterComment(item.id)\"\r\n                @keyup.enter=\"RegisterComment(item.id)\"\r\n              ></el-button>\r\n              <div\r\n                v-for=\"(i, index) in state.reverseList\"\r\n                :key=\"index\"\r\n                style=\"margin:2%;\"\r\n              >\r\n                <div v-if=\"i.communityId.id == item.id && i.isDelete == true\">\r\n                  <span\r\n                    style=\"margin-right:2%; font-weight:bold; font-size: 16px;\"\r\n                    >{{ i.name }}</span\r\n                  >\r\n                  <span style=\"margin-right:2%; font-size: 16px;\">{{\r\n                    i.comment\r\n                  }}</span>\r\n                  <span\r\n                    ><el-button\r\n                      v-if=\"state.userId == i.userId\"\r\n                      class=\"close-button\"\r\n                      icon=\"el-icon-close\"\r\n                      style=\"position: absolute; right: 0; padding:1%; margin-right:3%;\"\r\n                      @click=\"DeleteComment(i.id)\"\r\n                    ></el-button\r\n                  ></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-row>\r\n\r\n      </el-row>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n.board {\r\n  max-width: 600px;\r\n  max-width: 850px;\r\n  min-width: 300px;\r\n  min-height: 550px;\r\n  width: 50%;\r\n  height: 100%;\r\n  border: 1px solid lightgray;\r\n  border-radius: 5px;\r\n  margin-right: 25%;\r\n  margin-left: 25%;\r\n  margin-bottom: 4%;\r\n  margin-top: 4%;\r\n}\r\n.title {\r\n  display: table;\r\n  width: 100%;\r\n  min-height: 60px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  border-bottom: solid 1px rgb(240, 240, 240);\r\n  padding: 10px;\r\n}\r\n.button .el-button{\r\n  border: solid 1px lightgray !important;\r\n  margin-right: 1%;\r\n}\r\n.button .el-button:hover {\r\n  color: black !important;\r\n  background-color: #f9f0e7 !important;\r\n  border: solid 1px #f9f0e7 !important;\r\n}\r\n.user {\r\n  display: table-cell;\r\n  text-align: left;\r\n  vertical-align: middle;\r\n}\r\n.user-profile {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 100%;\r\n  margin-left: 8px;\r\n  margin-right: 10px;\r\n}\r\n.button-group {\r\n  position: absolute;\r\n  right: 0;\r\n  margin-top: 1%;\r\n  margin-right: 3%;\r\n}\r\n.image-carousel {\r\n  width: inherit; /*정방향 크기 */\r\n  margin-top: 2%;\r\n  text-align: center;\r\n  margin: auto 0;\r\n}\r\n.image {\r\n  width: 100%;\r\n}\r\n.title > span {\r\n  display: inline-block;\r\n  margin-bottom: 2%;\r\n}\r\n.boardcontent {\r\n  font-size: 14px;\r\n}\r\n.content {\r\n  min-height: 50px;\r\n  margin: 2% 5% 5% 5%;\r\n  vertical-align: middle;\r\n  text-align: left;\r\n}\r\n.tag {\r\n  margin-left: 4.5%;\r\n}\r\n.icon {\r\n  width: 30px;\r\n  height: 30px;\r\n  color: #755744;\r\n}\r\n.comment {\r\n  padding: 10px 10px 0 10px;\r\n  border-top: solid 1px rgb(240, 240, 240);\r\n}\r\n.comment-input {\r\n  width: 80%;\r\n}\r\n.comment-button {\r\n  position: absolute;\r\n  right: 10px;\r\n  color: #755744;\r\n}\r\n:deep(.el-tag) {\r\n  height: 30px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n:deep(.el-input__inner) {\r\n  border: none;\r\n}\r\n:deep(.el-button) {\r\n  border: none;\r\n  background-color: white;\r\n}\r\n:deep(.el-button:hover) {\r\n  color: black;\r\n  background-color: white;\r\n}\r\n:deep(.el-carousel__container) {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 100%; /* 정방향 */\r\n}\r\n.fit-image{\r\n  object-fit: cover;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ref, onBeforeMount, onMounted, reactive, computed } from \"vue\";\r\nimport { createToast } from \"mosha-vue-toastify\";\r\nimport \"mosha-vue-toastify/dist/style.css\";\r\n\r\nexport default {\r\n  name: \"community-board-list\",\r\n  components: {\r\n    createToast\r\n  },\r\n\r\n  setup() {\r\n    const store = new useStore();\r\n    const router = new useRouter();\r\n\r\n    const divs = ref(null); // 요기\r\n\r\n    // 이미지 배열\r\n    const images = [\r\n      require(\"@/assets/images/mbti_infj.png\"),\r\n      require(\"@/assets/images/mbti_isfp.png\"),\r\n      require(\"@/assets/images/icon.png\")\r\n    ];\r\n\r\n    const state = reactive({\r\n      boardList: [],\r\n      reverseList :[],\r\n      comments: [],\r\n      userId: computed(() => {\r\n        return store.getters[\"root/getLoginUserInfo\"].userId;\r\n      }),\r\n      userProfile: computed(() => {\r\n        return store.getters[\"root/getUpdateUserInfo\"];\r\n      }),\r\n      isLoading: computed(() => state.comments)\r\n    });\r\n\r\n    const communities = reactive({\r\n      init: true,\r\n      loading: true,\r\n      isLoading: computed(() => communities.loading),\r\n      page: 0,\r\n      noMore: false\r\n    });\r\n\r\n    // 댓글 입력 값을 받아올 객체\r\n    const comment = reactive({\r\n      input: \"\"\r\n    });\r\n\r\n    const goRegister = function() {\r\n      if (state.userId === null) {\r\n        createToast(\"로그인을 진행해주세요 💨💨\", {\r\n          hideProgressBar: \"true\",\r\n          timeout: 4500,\r\n          showIcon: \"true\",\r\n          toastBackgroundColor: \"#c49d83\",\r\n          position: \"bottom-left\",\r\n          transition: \"bounce\",\r\n          type: \"success\"\r\n        });\r\n        router.push({ name: \"Login\" });\r\n      } else {\r\n        router.push({ name: \"community-board-register\" });\r\n      }\r\n    };\r\n\r\n    const userId = store.getters['root/getLoginUserInfo'].userId;\r\n    // 다음 커뮤니티 목록 가져오기\r\n    function fetchCommunityList() {\r\n      store\r\n        .dispatch('root/requestMyCommunity', userId)\r\n        .then(function(result) {\r\n          console.log(result)\r\n          var size = result.data.communityList.length;\r\n          for (var i = 0; i < size; i++) {\r\n            state.boardList.push(result.data.communityList[i]);\r\n            console.log(result.data.communityList[i]);\r\n            const id = result.data.communityList[i].id;\r\n            store\r\n              .dispatch(\"root/requestCommunityComment\", id)\r\n              .then(function(result) {\r\n                var size = result.data.commentList.length;\r\n                for (var i = 0; i < size; i++) {\r\n                  state.comments.push(result.data.commentList[i]);\r\n                }\r\n                state.reverseList = [...state.comments].reverse();\r\n              })\r\n              .catch(function(err) {\r\n                console.log(err);\r\n              });\r\n          }\r\n          // 다 받아왔으면\r\n          // if(size < 10)\r\n          //   communities.noMore = true\r\n          // communities.loading = false\r\n        })\r\n        .catch(function(err) {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    function scroll(state) {\r\n      // 요기\r\n      console.log(divs);\r\n      if (\r\n        divs.value.scrollTop >= divs.value.clientHeight &&\r\n        !communities.noMore\r\n      ) {\r\n        console.log(divs.value.scrollHeight);\r\n        communities.page += 1;\r\n        fetchCommunityList();\r\n      }\r\n      console.log(\"scrollTo\", divs.value.scrollTop);\r\n    }\r\n\r\n    // store.dispatch('root/requestCommunityBoardList')\r\n    //   .then(function(result){\r\n    //     console.log(result)\r\n    //     state.boardList = result.data;\r\n    //   }).catch(function(err){\r\n    //     console.log(err)\r\n    // });\r\n\r\n    const updateCommunity = function(id) {\r\n      store\r\n        .dispatch(\"root/requestCommunityDetail\", id)\r\n        .then(function(result) {\r\n          console.log(result);\r\n          const CommunityDetail = {\r\n            communityId: result.data.community.id,\r\n            title: result.data.community.title,\r\n            category: result.data.community.category,\r\n            description: result.data.community.description,\r\n            fileList : result.data.filePath\r\n          };\r\n          store.commit(\"root/setCommunityBoard\", CommunityDetail);\r\n          router.push({ name: \"community-board-update\" });\r\n        })\r\n        .catch(function(err) {\r\n          console.log(err);\r\n        });\r\n    };\r\n\r\n    const deleteCommunity = function(id) {\r\n      store\r\n        .dispatch(\"root/requestDeleteCommunity\", id)\r\n        .then(function(result) {\r\n          createToast(\"게시글이 삭제되었어요 💨💨\", {\r\n            hideProgressBar: \"true\",\r\n            timeout: 4500,\r\n            showIcon: \"true\",\r\n            toastBackgroundColor: \"#7eaa72\",\r\n            position: \"bottom-left\",\r\n            transition: \"bounce\",\r\n            type: \"success\"\r\n          });\r\n          router.go(router.currentRoute);\r\n        })\r\n        .catch(function(err) {\r\n          createToast(\"게시글 삭제에 실패했어요 😱💦\", {\r\n            hideProgressBar: \"true\",\r\n            timeout: 4500,\r\n            showIcon: \"true\",\r\n            toastBackgroundColor: \"#c49d83\",\r\n            position: \"bottom-left\",\r\n            transition: \"bounce\",\r\n            type: \"warning\"\r\n          });\r\n          console.log(err);\r\n        });\r\n    };\r\n\r\n    store\r\n      .dispatch(\"root/requestUserProfile\", state.userId)\r\n      .then(function(result) {\r\n        console.log(result.data);\r\n        state.userProfile = result.data;\r\n      })\r\n      .catch(function(err) {\r\n        console.log(err);\r\n      });\r\n\r\n    const RegisterComment = function(id) {\r\n      if (state.userId === null ||\r\n            state.userId == \"\" ||\r\n            state.userId === undefined) {\r\n          createToast(\"로그인해야 이용 가능하개🐕‍🦺💨\", {\r\n            hideProgressBar: \"true\",\r\n            timeout: 4500,\r\n            showIcon: \"true\",\r\n            toastBackgroundColor: \"#c49d83\",\r\n            position: \"bottom-left\",\r\n            transition: \"bounce\",\r\n            type: \"success\"\r\n          });\r\n          router.push({ name: \"Login\" });\r\n        }else {\r\n          if (\r\n            comment.input == null ||comment.input == \"\" ) {\r\n            createToast(\"댓글 내용을 적어주세요 😱💦\", {\r\n              hideProgressBar: \"true\",\r\n              timeout: 4500,\r\n              showIcon: \"true\",\r\n              toastBackgroundColor: \"#c49d83\",\r\n              position: \"bottom-left\",\r\n              transition: \"bounce\",\r\n              type: \"success\"\r\n            });\r\n          }else{\r\n          store\r\n            .dispatch(\"root/requestRegisterComment\", {\r\n              communityId: id,\r\n              userId: state.userId,\r\n              comment: comment.input\r\n            })\r\n            .then(function(result) {\r\n              createToast(\"댓글이 등록되었어요 💨💨\", {\r\n                hideProgressBar: \"true\",\r\n                timeout: 4500,\r\n                showIcon: \"true\",\r\n                toastBackgroundColor: \"#7eaa72\",\r\n                position: \"bottom-left\",\r\n                transition: \"bounce\",\r\n                type: \"success\"\r\n              });\r\n              state.comments.push(result.data);\r\n              comment.input = \"\";\r\n              state.reverseList = [...state.comments].reverse();\r\n            })\r\n            .catch(function(err) {\r\n              createToast(\"댓글 등록에 실패했어요 😱💦\", {\r\n                hideProgressBar: \"true\",\r\n                timeout: 4500,\r\n                showIcon: \"true\",\r\n                toastBackgroundColor: \"#c49d83\",\r\n                position: \"bottom-left\",\r\n                transition: \"bounce\",\r\n                type: \"warning\"\r\n              });\r\n            });\r\n        }\r\n      }\r\n    };\r\n\r\n    const DeleteComment = function(id) {\r\n      store\r\n        .dispatch(\"root/requestDeleteComment\", id)\r\n        .then(function(result) {\r\n          createToast(\"댓글이 삭제되었어요 💨💨\", {\r\n            hideProgressBar: \"true\",\r\n            timeout: 4500,\r\n            showIcon: \"true\",\r\n            toastBackgroundColor: \"#7eaa72\",\r\n            position: \"bottom-left\",\r\n            transition: \"bounce\",\r\n            type: \"success\"\r\n          });\r\n\r\n          for(var i=0; i<state.comments.length; i++){\r\n              if(state.comments[i].id == id){\r\n                console.log(state.comments[i].id)\r\n                state.comments.splice(i,1);\r\n              }\r\n          }\r\n          state.reverseList = [...state.comments].reverse();\r\n\r\n        })\r\n        .catch(function(err) {\r\n          createToast(\"댓글 삭제에 실패했어요 😱💦\", {\r\n            hideProgressBar: \"true\",\r\n            timeout: 4500,\r\n            showIcon: \"true\",\r\n            toastBackgroundColor: \"#c49d83\",\r\n            position: \"bottom-left\",\r\n            transition: \"bounce\",\r\n            type: \"warning\"\r\n          });\r\n          console.log(err);\r\n        });\r\n    };\r\n\r\n\r\n\r\n    onMounted(() => {\r\n      store.commit(\"root/setBreadcrumbInfo\", {\r\n        isHome: false,\r\n        title: \"돍립신문\",\r\n        subTitle: \"내 피드 보러가기\"\r\n      });\r\n      fetchCommunityList();\r\n    });\r\n\r\n    return {\r\n      state,\r\n      deleteCommunity,\r\n      updateCommunity,\r\n      communities,\r\n      fetchCommunityList,\r\n      scroll,\r\n      images,\r\n      comment,\r\n      RegisterComment,\r\n      DeleteComment,\r\n      goRegister\r\n\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./community-mycommunity.vue?vue&type=template&id=6bcfabad&scoped=true\"\nimport script from \"./community-mycommunity.vue?vue&type=script&lang=js\"\nexport * from \"./community-mycommunity.vue?vue&type=script&lang=js\"\n\nimport \"./community-mycommunity.vue?vue&type=style&index=0&id=6bcfabad&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6bcfabad\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./community-mycommunity.vue?vue&type=style&index=0&id=6bcfabad&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/mbti_infj.de3c9b5d.png\";"],"sourceRoot":""}